[
    {
        "id": "79a7b8a9d2a4aca6",
        "type": "ui_template",
        "z": "429937dcb088aa8e",
        "group": "fd7582e2a5e335b7",
        "name": "Dashboard - Motos",
        "order": 1,
        "width": 11,
        "height": 21,
        "format": "<style>\n    /* =============================\n     DASHBOARD MOTTU - ESTILO AJUSTADO\n  ============================== */\n    .dashboard-container {\n        padding: 24px;\n        font-family: 'Inter', 'Segoe UI', Arial, sans-serif;\n        background: #000;\n        min-height: 100vh;\n        color: #e2e8f0;\n    }\n\n    .header {\n        background: rgba(0, 0, 0, 0.85);\n        backdrop-filter: blur(10px);\n        padding: 30px;\n        border-radius: 16px;\n        margin-bottom: 30px;\n        text-align: center;\n        box-shadow: 0 8px 32px rgba(0, 255, 128, 0.08);\n        border: 1px solid rgba(5, 173, 47, 0.4);\n    }\n\n    .header h1 {\n        margin: 0;\n        font-size: 2.4em;\n        font-weight: 700;\n        color: #05ad2f;\n        letter-spacing: -0.5px;\n    }\n\n    .header p {\n        margin: 12px 0 0 0;\n        font-size: 1.1em;\n        color: #a0aec0;\n        font-weight: 400;\n    }\n\n    .cards-grid {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));\n        gap: 24px;\n        margin-bottom: 30px;\n    }\n\n    .card {\n        background: rgba(15, 15, 15, 0.9);\n        backdrop-filter: blur(10px);\n        border-radius: 16px;\n        padding: 28px;\n        box-shadow: 0 8px 32px rgba(0, 255, 128, 0.05);\n        border: 1px solid rgba(255, 255, 255, 0.1);\n        transition: all 0.3s ease;\n    }\n\n    .card:hover {\n        transform: translateY(-6px);\n        box-shadow: 0 16px 40px rgba(0, 255, 128, 0.15);\n    }\n\n    .card h2 {\n        margin-top: 0;\n        color: #05ad2f;\n        border-bottom: 1px solid rgba(255, 255, 255, 0.15);\n        padding-bottom: 12px;\n        font-size: 1.4em;\n        font-weight: 600;\n    }\n\n    .alert {\n        background: linear-gradient(135deg, #ff4d4d 0%, #ff6b6b 100%);\n        border: 1px solid #fc8181;\n        border-radius: 12px;\n        padding: 16px;\n        margin: 10px 0;\n        color: #fff;\n        box-shadow: 0 4px 12px rgba(252, 129, 129, 0.25);\n    }\n\n    .alert-setor {\n        background: linear-gradient(135deg, #fbd38d 0%, #ed8936 100%);\n        color: #222;\n    }\n\n    .table {\n        width: 100%;\n        border-collapse: collapse;\n        margin: 16px 0;\n        border-radius: 12px;\n        overflow: hidden;\n        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);\n    }\n\n    .table th,\n    .table td {\n        padding: 14px 18px;\n        text-align: left;\n        border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n    }\n\n    .table th {\n        background: linear-gradient(135deg, #05ad2f 0%, #048c26 100%);\n        color: #000;\n        font-weight: 600;\n        font-size: 0.9em;\n        text-transform: uppercase;\n    }\n\n    .table td {\n        background: rgba(10, 10, 10, 0.9);\n        color: #e2e8f0;\n    }\n\n    .badge {\n        padding: 6px 14px;\n        border-radius: 20px;\n        font-size: 0.8em;\n        font-weight: 600;\n        text-transform: uppercase;\n        letter-spacing: 0.5px;\n    }\n\n    .badge.ok {\n        background: linear-gradient(135deg, #9ae6b4 0%, #68d391 100%);\n        color: #1a202c;\n    }\n\n    .badge.alerta {\n        background: linear-gradient(135deg, #feb2b2 0%, #fc8181 100%);\n        color: #1a202c;\n    }\n\n    .badge.inativo {\n        background: linear-gradient(135deg, #a0aec0 0%, #718096 100%);\n        color: #fff;\n    }\n\n    .stats-grid {\n        display: grid;\n        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));\n        gap: 16px;\n        margin: 20px 0;\n    }\n\n    .stat-card {\n        background: linear-gradient(135deg, #05ad2f 0%, #048c26 100%);\n        padding: 20px;\n        border-radius: 12px;\n        text-align: center;\n        color: #000;\n        box-shadow: 0 6px 20px rgba(5, 173, 47, 0.3);\n    }\n\n    .stat-number {\n        font-size: 2.2em;\n        font-weight: 700;\n    }\n\n    .stat-label {\n        font-size: 0.9em;\n        opacity: 0.85;\n    }\n\n    .moto-item {\n        background: rgba(10, 10, 10, 0.9);\n        border-radius: 10px;\n        padding: 14px;\n        margin: 8px 0;\n        border-left: 4px solid #05ad2f;\n        color: #e2e8f0;\n        transition: all 0.2s ease;\n    }\n\n    .moto-item:hover {\n        box-shadow: 0 4px 16px rgba(5, 173, 47, 0.2);\n    }\n\n    .setor-indicator {\n        display: inline-block;\n        width: 12px;\n        height: 12px;\n        border-radius: 50%;\n        margin-right: 10px;\n        background: #05ad2f;\n    }\n\n    .setor-alerta {\n        background: #fc8181;\n        animation: pulse 2s infinite;\n    }\n\n    @keyframes pulse {\n        0% {\n            transform: scale(1);\n        }\n\n        50% {\n            transform: scale(1.2);\n        }\n\n        100% {\n            transform: scale(1);\n        }\n    }\n\n    .last-update {\n        background: rgba(255, 255, 255, 0.1);\n        padding: 10px 14px;\n        border-radius: 8px;\n        margin-top: 12px;\n        text-align: center;\n        color: #a0aec0;\n    }\n\n    .empty-state {\n        text-align: center;\n        padding: 40px 20px;\n        color: #718096;\n    }\n</style>\n\n<div class=\"dashboard-container\">\n    <div class=\"header\">\n        <h1>Motion Track</h1>\n    </div>\n\n    <div class=\"cards-grid\">\n        <div class=\"card\">\n            <h2>Status Geral</h2>\n            <div class=\"stats-grid\">\n                <div class=\"stat-card\">\n                    <div class=\"stat-number\">{{msg.payload.localizacaoGeral.length}}</div>\n                    <div class=\"stat-label\">Motos Ativas</div>\n                </div>\n                <div class=\"stat-card\">\n                    <div class=\"stat-number\">{{msg.payload.contagemSetor.length}}</div>\n                    <div class=\"stat-label\">Setores</div>\n                </div>\n            </div>\n            <div class=\"last-update\">\n                Última atualização: {{msg.payload.timestamp}}\n            </div>\n        </div>\n\n        <div class=\"card\">\n            <h2>Contagem por Setor</h2>\n            <div ng-repeat=\"item in msg.payload.contagemSetor\">\n                <div class=\"moto-item\">\n                    <span class=\"setor-indicator\" ng-class=\"{'setor-alerta': item.qtd > 1}\"></span>\n                    <strong>{{item.setor}}</strong>: {{item.qtd}} moto{{item.qtd > 1 ? 's' : ''}}\n                    <span ng-if=\"item.qtd > 1\" style=\"color: #fc8181; float: right;\">Múltiplas</span>\n                </div>\n            </div>\n            <div ng-if=\"!msg.payload.contagemSetor || msg.payload.contagemSetor.length === 0\" class=\"empty-state\">\n                Sem dados de setor\n            </div>\n        </div>\n\n        <div class=\"card\">\n            <h2>Alertas Ativos ({{msg.payload.alertas.length}})</h2>\n            <div ng-if=\"msg.payload.alertas.length === 0\"\n                style=\"text-align:center; background:linear-gradient(135deg,#c6f6d5,#9ae6b4); padding:20px; border-radius:10px; border:1px solid #05ad2f;\">\n                <span style=\"color:#1a202c; font-weight:600;\">Nenhum alerta ativo</span>\n            </div>\n\n            <div ng-repeat=\"a in msg.payload.alertas\" class=\"alert\"\n                ng-class=\"{'alert-setor': a.tipo === 'ALERTA SETOR'}\">\n                <strong>{{a.tipo}}</strong> — {{a.mensagem}}<br>\n                <small>\n          <span ng-if=\"a.setor\">Setor: {{a.setor}} | </span>\n          <span ng-if=\"a.sensor\">Sensor: {{a.sensor}} | </span>\n          <span ng-if=\"a.quantidade\">Quantidade: {{a.quantidade}} | </span>\n          Motos: {{a.motos.join(', ')}}\n        </small><br>\n                <span class=\"small\">{{a.timestamp}}</span>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"cards-grid\">\n        <div class=\"card\" style=\"grid-column: 1 / -1;\">\n            <h2>Localização Geral</h2>\n            <table class=\"table\">\n                <thead>\n                    <tr>\n                        <th>Moto</th>\n                        <th>Setor</th>\n                        <th>Estado</th>\n                        <th>Sensor</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr ng-repeat=\"l in msg.payload.localizacaoGeral\">\n                        <td><strong>{{l.id_moto}}</strong></td>\n                        <td>{{l.setor}}</td>\n                        <td>\n                            <span class=\"badge\" ng-class=\"{\n                'ok': l.estado === 'Em Movimento',\n                'alerta': l.estado === 'Falha',\n                'inativo': l.estado === 'Parada'\n              }\">{{l.estado}}</span>\n                        </td>\n                        <td>{{l.sensor}}</td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 1230,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "fd7582e2a5e335b7",
        "type": "ui_group",
        "z": "429937dcb088aa8e",
        "name": "Dash",
        "tab": "2bc7035f59eba625",
        "order": 1,
        "disp": true,
        "width": 12,
        "collapse": false,
        "className": ""
    },
    {
        "id": "2bc7035f59eba625",
        "type": "ui_tab",
        "z": "429937dcb088aa8e",
        "name": "Mottu Motion",
        "icon": "dashboard",
        "order": 1,
        "disabled": false,
        "hidden": false
    }
]